<!-- $Id$ -->
<autobuild>
    <configuration>
        <environment name="ACE_ROOT"     value="C:\ace\ACE_wrappers-repository" />
        <environment name="MPC_ROOT"     value="C:\ace\MPC" />
        <environment name="WINMAKE_CONFIGS"  value="Win32 (WCE ARM) Debug" />
        <environment name="ACE_WINCE_TEST_CONTROLLER" value="PocketControllerEnterprise" />
        <environment name="ACE_PCE_DEVICE" value="-l DEVICE_PATH=\Riverace\Steve's Toshiba Pocket PC;CONNECT=default;" />

        <variable name="root"     value="C:\ace\ACE_wrappers-repository" />
        <variable name="project_root" value="." />
	<variable name="log_file" value="pocket_debug.txt" />
        <variable name="log_root" value="G:\build_logs\dev\pocketpc_debug" />
        <variable name="name"     value="Pocket PC 2002 Debug" />
        <variable name="configs"  value="Win32 WinCE Exceptions" />

    </configuration>

    <command name="status"            options="on" />
    <command name="file_manipulation" options="type=mustnotexist file=.disable" />
    <command name="file_manipulation" options="type=create file=.disable output='RUNNING'" />

    <command name="wincemake"         options="tests/tests.vcw /MAKE 'ALL - Win32 (WCE ARM) Debug' /CLEAN /USEENV /CECONFIG 'Pocket PC 2002'" />
    <command name="wincemake"         options="ace/ace.vcw /MAKE 'ACE - Win32 (WCE ARM) Debug' /CLEAN /USEENV /CECONFIG 'Pocket PC 2002'" />

    <command name="log"               options="ON" />

    <command name="cvs"               options="update -P -d ." />

    <command name="print_os_version" />
    <command name="print_ace_config" />

    <command name="file_manipulation" options="type=create file=local.features output='rwho=0\nwince=1\n'" />
    <command name="generate_workspace" options="-feature_file c:\ace\ACE_wrappers-repository\local.features -relative ACE_ROOT=C:\ace\ACE_wrappers-repository -recurse -type em3" /> 

    <command name="wincemake"         options="ace/ace.vcw /MAKE 'RMCast - Win32 (WCE ARM) Debug' /REBUILD /USEENV /CECONFIG 'Pocket PC 2002'" />
    <command name="wincemake"         options="protocols/protocols.vcw /MAKE 'HTBP - Win32 (WCE ARM) Debug' /REBUILD /USEENV /CECONFIG 'Pocket PC 2002'" />
    <command name="wincemake"         options="tests/tests.vcw /MAKE 'ALL - Win32 (WCE ARM) Debug' /USEENV /CECONFIG 'Pocket PC 2002'" />
    <command name="file_manipulation" options="type=create file=copy_ace.cmd output='copy c:\ace\ACE_wrappers-repository\lib\ARM\ACEd.dll 1:\Windows\ncopy c:\ace\ACE_wrappers-repository\tests\Config_Test_Import_1.ini 1:\ \ncopy c:\ace\ACE_wrappers-repository\lib\ARM\DLL_Testd.dll 1:\Windows\ncopy c:\ace\ACE_wrappers-repository\lib\ARM\Service_Config_DLLd.dll 1:\Windows\ncopy c:\ace\ACE_wrappers-repository\lib\ARM\Framework_Component_DLLd.dll 1:\Windows\ncopy c:\ace\ACE_wrappers-repository\lib\ARM\Test_Outputd.dll 1:\Windows\n'" />
    <command name="shell"             options="PocketControllerEnterprise -l DEVICE_PATH=\Riverace\Steve's Toshiba Pocket PC;CONNECT=default; -m NAME=copy_ace.cmd;WAIT=30000; -e" />
    <command name="file_manipulation" options="type=delete file=copy_ace.cmd" />
    <command name="auto_run_tests"    options="-a -ExeSubDir ARM" />
    <command name="log"               options="OFF" />
    <command name="process_logs"      options="move prettify clean=5 index" />
    <command name="file_manipulation" options="type=delete file=.disable" />
    <command name="status"            options="off" />
</autobuild>
